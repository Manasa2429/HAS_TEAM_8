{"ast":null,"code":"var _jsxFileName = \"/home/apiiit123/Documents/vscode/Team-8-main/client/src/screens/AdminRoomScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Table, Tag, Space, Button, Modal } from \"antd\";\nimport Loader from \"../components/Loader\";\nimport Error from \"../components/Error\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AdminRoomScreen() {\n  _s();\n\n  const [rooms, setRooms] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  const deleteRoom = async roomId => {\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      await axios.delete(`/api/rooms/delete/room/${roomId}`);\n      fetchMyData(); // Refresh the room list after deletion\n    } catch (error) {\n      console.log(error);\n      setError(error.message);\n    }\n\n    setLoading(false);\n  };\n\n  const confirmDelete = roomId => {\n    console.log(roomId);\n    Modal.confirm({\n      title: \"Are you sure you want to delete this room?\",\n      okText: \"Yes\",\n      cancelText: \"No\",\n      onOk: () => deleteRoom(roomId)\n    });\n  };\n\n  const columns = [{\n    title: \"roomid\",\n    dataIndex: \"_id\",\n    key: \"_id\"\n  }, {\n    title: \"name\",\n    dataIndex: \"name\",\n    key: \"name\"\n  }, {\n    title: \"maxcount\",\n    dataIndex: \"maxcount\",\n    key: \"maxcount\"\n  }, {\n    title: \"phonenumber\",\n    dataIndex: \"phonenumber\",\n    key: \"phonenumber\"\n  }, {\n    title: \"rentperday\",\n    dataIndex: \"rentperday\",\n    key: \"rentperday\"\n  }, {\n    title: \"type\",\n    dataIndex: \"type\",\n    key: \"type\"\n  }, {\n    title: \"Actions\",\n    dataIndex: \"actions\",\n    key: \"actions\",\n    render: (text, record) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        style: {\n          padding: 0,\n          border: \"none\",\n          color: \"#1890ff\"\n        },\n        onClick: () => console.log(`Update room with ID: ${record._id}`),\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        style: {\n          padding: 0,\n          border: \"none\",\n          color: \"#ff4d4f\"\n        },\n        onClick: () => confirmDelete(record._id),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }, this)\n  }];\n\n  async function fetchMyData() {\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      const data = (await axios.post(\"/api/rooms/getallrooms\")).data;\n      setRooms(data);\n    } catch (error) {\n      console.log(error);\n      setError(error);\n    }\n\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    fetchMyData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }, this) : error.length > 0 ? /*#__PURE__*/_jsxDEV(Error, {\n      msg: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: fetchMyData,\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          dataSource: rooms\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 3\n  }, this);\n}\n\n_s(AdminRoomScreen, \"E0n7EjW+JNN+tmKAid0FUFkpGLc=\");\n\n_c = AdminRoomScreen;\nexport default AdminRoomScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminRoomScreen\");","map":{"version":3,"sources":["/home/apiiit123/Documents/vscode/Team-8-main/client/src/screens/AdminRoomScreen.js"],"names":["React","useState","useEffect","axios","Table","Tag","Space","Button","Modal","Loader","Error","AdminRoomScreen","rooms","setRooms","loading","setLoading","error","setError","deleteRoom","roomId","delete","fetchMyData","console","log","message","confirmDelete","confirm","title","okText","cancelText","onOk","columns","dataIndex","key","render","text","record","display","alignItems","gap","padding","border","color","_id","data","post","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Table, Tag, Space, Button, Modal } from \"antd\";\n\nimport Loader from \"../components/Loader\";\nimport Error from \"../components/Error\";\n\nfunction AdminRoomScreen() {\n\tconst [rooms, setRooms] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(\"\");\n\n\tconst deleteRoom = async (roomId) => {\n\t\tsetError(\"\");\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait axios.delete(`/api/rooms/delete/room/${roomId}`);\n\t\t\tfetchMyData(); // Refresh the room list after deletion\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tsetError(error.message);\n\t\t}\n\t\tsetLoading(false);\n\t};\n\n\tconst confirmDelete = (roomId) => {\n\t\tconsole.log(roomId);\n\t\tModal.confirm({\n\t\t\ttitle: \"Are you sure you want to delete this room?\",\n\t\t\tokText: \"Yes\",\n\t\t\tcancelText: \"No\",\n\t\t\tonOk: () => deleteRoom(roomId),\n\t\t});\n\t};\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: \"roomid\",\n\t\t\tdataIndex: \"_id\",\n\t\t\tkey: \"_id\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"name\",\n\t\t\tdataIndex: \"name\",\n\t\t\tkey: \"name\",\n\t\t},\n\t\t{ title: \"maxcount\", dataIndex: \"maxcount\", key: \"maxcount\" },\n\t\t{ title: \"phonenumber\", dataIndex: \"phonenumber\", key: \"phonenumber\" },\n\t\t{ title: \"rentperday\", dataIndex: \"rentperday\", key: \"rentperday\" },\n\t\t{ title: \"type\", dataIndex: \"type\", key: \"type\" },\n\t\t{\n\t\t\ttitle: \"Actions\",\n\t\t\tdataIndex: \"actions\",\n\t\t\tkey: \"actions\",\n\t\t\trender: (text, record) => (\n\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", gap: \"20px\" }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"link\"\n\t\t\t\t\t\tstyle={{ padding: 0, border: \"none\", color: \"#1890ff\" }}\n\t\t\t\t\t\tonClick={() => console.log(`Update room with ID: ${record._id}`)}\n\t\t\t\t\t>\n\t\t\t\t\t\tUpdate\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"link\"\n\t\t\t\t\t\tstyle={{ padding: 0, border: \"none\", color: \"#ff4d4f\" }}\n\t\t\t\t\t\tonClick={() => confirmDelete(record._id)}\n\t\t\t\t\t>\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t),\n\t\t},\n\t];\n\n\tasync function fetchMyData() {\n\t\tsetError(\"\");\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst data = (await axios.post(\"/api/rooms/getallrooms\")).data;\n\t\t\tsetRooms(data);\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tsetError(error);\n\t\t}\n\t\tsetLoading(false);\n\t}\n\n\tuseEffect(() => {\n\t\tfetchMyData();\n\t}, []);\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t{loading ? (\n\t\t\t\t<Loader></Loader>\n\t\t\t) : error.length > 0 ? (\n\t\t\t\t<Error msg={error}></Error>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"col md-12\">\n\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={fetchMyData}>\n\t\t\t\t\t\t\tRefresh\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t\t<Table columns={columns} dataSource={rooms} />\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default AdminRoomScreen;\n"]},"metadata":{},"sourceType":"module"}